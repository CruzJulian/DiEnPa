---
title: "Distancias entre países"
author: "Julián Cruz, Ana Gómez"
runtime: shiny
output: html_document
---

# Introducción

El Indice de Desarrollo Humano ha sido entendido como....sin embargo

# Datos

Se obtienen los datos del IDH 2014. El Índice de Desarrollo Humano es calculado con el fin de realizar un ranking de los países. Sin embargo en este caso el objetivo es encontrar distancias entre los países a partir de los datos multivariados. Con esto esperamos crear mapas de similaridades, que nos muestren dónde estamos ubicados. El siguiente código obtiene los datos.

```{r}
library("colmaps")
library("ggplot2")
library("dplyr")
library("magrittr")
library("curl")
library("knitr")

opts_chunk$set(echo = TRUE, include = TRUE, eval = TRUE, cache = FALSE, fig.width = 7, fig.align = "center")

```


```{r}
load("work_space.rda")

```

## Mapa IDH

```{r}
colmap(world.map, world.map@data, var ="IDH", map_id = "ADMIN") + scale_fill_continuous(high = "#fee8c8", low = "#b30000")

```

## t-SNE

```{r, fig.width=10, fig.height=8}
tsne_paises %>% set_colnames(c("xx", "yy")) %>% cbind(nombre_codigo) %>% ggplot + geom_text(mapping = aes(x = xx, y = yy, label = Nombre), size = 3) + theme_minimal()

```

## Mapas

Realizamos un mapa por cada país, en él se muestran los países más cercanos y los más lejanos usando colores. 

```{r eruptions, cache = FALSE}
inputPanel(
  selectInput("Nombre", label = "País",
              choices = as.character(nombre_codigo$Nombre))
)

renderPlot({
  #mapCountryData(world.map, nameColumnToPlot = input$País)
colmap(map = world.map, data = distances, var = as.character(nombre_codigo$ISO3[nombre_codigo$Nombre == input$Nombre]), map_id = "ADMIN", autocomplete = TRUE) + scale_fill_continuous(high = "#fee8c8", low = "#b30000")
  })

```

